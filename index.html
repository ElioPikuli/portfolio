<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elio Pikuli | Software Engineer Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* A very light gray background */
        }
        .section-title {
            @apply text-4xl font-bold text-center text-gray-800 mb-12;
        }
        .project-card {
            @apply bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-300;
        }
        /* Style for scroll animations */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Style for modal close button */
        #close-modal-btn {
            font-size: 2rem;
            line-height: 1;
        }
    </style>
</head>
<body class="text-gray-700">

    <!-- Header & Navigation -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-gray-800">Elio Pikuli</a>
            <div class="hidden md:flex space-x-6">
                <a href="#about" class="text-gray-600 hover:text-indigo-600 transition duration-300">About</a>
                <a href="#projects" class="text-gray-600 hover:text-indigo-600 transition duration-300">Projects</a>
                <a href="#skills" class="text-gray-600 hover:text-indigo-600 transition duration-300">Skills</a>
                <a href="#contact" class="text-gray-600 hover:text-indigo-600 transition duration-300">Contact</a>
            </div>
            <a href="#contact" class="hidden md:block bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-300">Hire Me</a>
        </nav>
    </header>

    <!-- Hero Section -->
    <main>
        <section id="hero" class="py-20 md:py-32">
            <div class="container mx-auto px-6 flex flex-col items-center text-center">
                <div class="w-full">
                    <h1 class="text-5xl md:text-6xl font-black text-gray-800 leading-tight mb-4">Elio Pikuli</h1>
                    <h2 class="text-2xl text-indigo-600 font-bold mb-6">B.Sc in Software Engineering</h2>
                    <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">A passionate and detail-oriented Software Engineer specializing in full-stack development, cloud solutions, and machine learning. Graduate of Braude College of Engineering.</p>
                    <div class="flex justify-center items-center flex-wrap gap-4">
                        <a href="#projects" class="bg-indigo-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition duration-300">View My Work</a>
                        <a href="#" id="ai-summary-btn" class="bg-purple-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-purple-700 transition duration-300 flex items-center gap-2">
                            ✨ Get AI Summary
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Me Section -->
        <section id="about" class="py-20">
            <div class="container mx-auto px-6">
                <h2 class="section-title animate-on-scroll">About Me</h2>
                <div class="max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md animate-on-scroll">
                    <p class="text-lg leading-relaxed mb-4">
                        Hello! I'm a recent graduate from Braude College of Engineering with a degree in B.Sc in Software Engineering. My journey into technology started with a fascination for how things work, which quickly grew into a passion for software development and design.
                    </p>
                    <p class="text-lg leading-relaxed">
                        I enjoy tackling complex problems and building applications that are not only functional but also provide a great user experience. My experience as a Scrum Master has taught me the value of teamwork, communication, and agile methodologies in delivering high-quality products. I'm always eager to learn new technologies and take on new challenges.
                    </p>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="section-title animate-on-scroll">My Projects</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <!-- Project 1: Food Ordering System -->
                    <div class="project-card animate-on-scroll">
                        <img src="https://placehold.co/600x400/E2E8F0/4A5568?text=Food+Ordering+System" alt="Food Ordering System" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold mb-2">Client-Server Food Ordering System</h3>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">Java</span>
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">JavaFX</span>
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">SQL</span>
                            </div>
                            <p class="text-gray-600 mb-4 flex-grow">Developed a robust client-server food ordering system. Gained valuable experience as a Scrum Master during this project.</p>
                            <div class="mt-auto flex space-x-4">
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Source Files &rarr;</a>
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Screenshots &rarr;</a>
                            </div>
                        </div>
                    </div>

                    <!-- Project 2: CryptoHive -->
                    <div class="project-card animate-on-scroll">
                        <img src="https://placehold.co/600x400/E2E8F0/4A5568?text=CryptoHive" alt="CryptoHive" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold mb-2">CryptoHive News Aggregator</h3>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">React</span>
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">Firebase</span>
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">Vercel</span>
                            </div>
                            <p class="text-gray-600 mb-4 flex-grow">A cryptocurrency news aggregator, providing real-time updates and information. Deployed seamlessly with Vercel.</p>
                            <div class="mt-auto flex space-x-4">
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Source Files &rarr;</a>
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Live Demo &rarr;</a>
                            </div>
                        </div>
                    </div>

                    <!-- Project 3: Search Engine -->
                    <div class="project-card animate-on-scroll">
                        <img src="https://placehold.co/600x400/E2E8F0/4A5568?text=CISCOSHARK" alt="CISCOSHARK" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold mb-2">Cloud-Based Search Engine</h3>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">Python</span>
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">HTML</span>
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">Firebase</span>
                            </div>
                            <p class="text-gray-600 mb-4 flex-grow">Features an intelligent crawler for efficient indexing and fast response times. A project I'm particularly proud of.</p>
                            <div class="mt-auto flex space-x-4">
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Source Files &rarr;</a>
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Live Demo &rarr;</a>
                            </div>
                        </div>
                    </div>

                    <!-- Project 4: Loading Screen -->
                    <div class="project-card animate-on-scroll">
                        <img src="https://placehold.co/600x400/E2E8F0/4A5568?text=Dynamic+Loading+Screen" alt="Dynamic Loading Screen" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold mb-2">Dynamic Loading Screen</h3>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">JavaScript</span>
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">CSS</span>
                            </div>
                            <p class="text-gray-600 mb-4 flex-grow">A visually engaging and dynamic loading screen created with pure JavaScript and advanced CSS techniques.</p>
                            <div class="mt-auto flex space-x-4">
                                <a href="https://github.com/ElioPikuli/Loading-Screen.git" target="_blank" rel="noopener noreferrer" class="text-indigo-600 font-semibold hover:underline">Source Files &rarr;</a>
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Live Demo &rarr;</a>
                            </div>
                        </div>
                    </div>

                    <!-- Project 5: Secure SMS -->
                    <div class="project-card animate-on-scroll">
                        <img src="https://placehold.co/600x400/E2E8F0/4A5568?text=Secure+SMS" alt="Secure SMS Exchange" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold mb-2">Secure SMS Exchange System</h3>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">Serpent</span>
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">Diffie-Hellman</span>
                            </div>
                            <p class="text-gray-600 mb-4 flex-grow">Implemented Serpent cipher, Diffie-Hellman key generation, and EC ElGamal digital signatures for secure communication.</p>
                            <div class="mt-auto flex space-x-4">
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Source Files &rarr;</a>
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Screenshots &rarr;</a>
                            </div>
                        </div>
                    </div>

                    <!-- Project 6: Machine Learning -->
                    <div class="project-card animate-on-scroll">
                        <img src="https://placehold.co/600x400/E2E8F0/4A5568?text=Machine+Learning" alt="Machine Learning" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold mb-2">Machine Learning & Data Mining</h3>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">Python</span>
                                <span class="bg-gray-200 text-gray-800 px-2 py-1 rounded text-xs">Scikit-Learn</span>
                            </div>
                            <p class="text-gray-600 mb-4 flex-grow">Built various models (KNN, CNN, ANN, etc.) and trained them on datasets of up to 60,000 records.</p>
                            <div class="mt-auto flex space-x-4">
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Source Files &rarr;</a>
                                <a href="#" class="text-indigo-600 font-semibold hover:underline">Screenshots &rarr;</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-20">
            <div class="container mx-auto px-6">
                <h2 class="section-title animate-on-scroll">My Skills</h2>
                <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-md animate-on-scroll">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Programming Languages</h3>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Python</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Java</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">C</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">JavaScript</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">TypeScript</span>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md animate-on-scroll">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Web Technologies</h3>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">React</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Node.js</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Next.js</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">PreactJS</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">HTML</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">CSS</span>
                             <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Vite</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">WebSockets</span>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md animate-on-scroll">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Data & Machine Learning</h3>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Pandas</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">NumPy</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Scikit-Learn</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Matplotlib</span>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md animate-on-scroll">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Security & Cryptography</h3>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Ciphers</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Key Generation</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Digital Signatures</span>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md animate-on-scroll">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Databases</h3>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">SQL</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">NoSQL</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Firebase</span>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md animate-on-scroll">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Methodologies & Tools</h3>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Agile</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Scrum</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Git</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Docker</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Vercel</span>
                            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">Jira</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="section-title animate-on-scroll">Get In Touch</h2>
                <div class="max-w-2xl mx-auto bg-gray-50 p-8 rounded-lg shadow-md animate-on-scroll">
                     <p class="text-center text-lg mb-8">I'm currently open to new opportunities. Feel free to send me a message!</p>
                    <form action="https://formspree.io/f/myzdlney" method="POST">
                        <div class="mb-4">
                            <label for="name" class="block text-gray-700 font-medium mb-2">Name</label>
                            <input type="text" id="name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                        </div>
                        <div class="mb-4">
                            <label for="email" class="block text-gray-700 font-medium mb-2">Email</label>
                            <input type="email" id="email" name="_replyto" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                        </div>
                        <div class="mb-4">
                            <label for="message" class="block text-gray-700 font-medium mb-2">Message</label>
                            <textarea id="message" name="message" rows="5" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required></textarea>
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300">Send Message</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 Elio Pikuli. All Rights Reserved.</p>
            <div class="flex justify-center space-x-6 mt-4">
                <a href="https://www.linkedin.com/in/elio-pikuli" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300" aria-label="LinkedIn">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                    </svg>
                </a>
                <a href="https://github.com/ElioPikuli/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300" aria-label="GitHub">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.165 6.839 9.489.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.578.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd"/>
                    </svg>
                </a>
            </div>
        </div>
    </footer>

    <!-- AI Summary Modal -->
    <div id="ai-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl p-6 md:p-8 max-w-2xl w-full transform transition-all duration-300 scale-95 opacity-0" id="modal-container">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800">✨ AI-Powered Summary</h3>
                <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            <div id="modal-content">
                <!-- Loading Spinner -->
                <div id="loading-spinner" class="flex justify-center items-center h-32">
                     <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div>
                </div>
                <!-- Summary Text -->
                <div id="summary-text" class="text-gray-700 leading-relaxed hidden prose max-w-none"></div>
            </div>
        </div>
    </div>

    <script>
        // --- Smooth scroll for navigation links ---
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // --- Scroll Animation Observer ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, {
            rootMargin: '0px',
            threshold: 0.1
        });

        const elementsToAnimate = document.querySelectorAll('.animate-on-scroll');
        elementsToAnimate.forEach(el => observer.observe(el));
        
        // --- Gemini AI Summary Feature ---
        const aiSummaryBtn = document.getElementById('ai-summary-btn');
        const aiModal = document.getElementById('ai-modal');
        const modalContainer = document.getElementById('modal-container');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const loadingSpinner = document.getElementById('loading-spinner');
        const summaryText = document.getElementById('summary-text');

        aiSummaryBtn.addEventListener('click', async (e) => {
            e.preventDefault();

            // Show modal and loading spinner
            aiModal.classList.remove('hidden');
            setTimeout(() => { // For transition effect
                modalContainer.classList.remove('scale-95', 'opacity-0');
            }, 50);

            loadingSpinner.classList.remove('hidden');
            summaryText.classList.add('hidden');
            summaryText.innerHTML = ''; // Clear previous summary

            // 1. Gather context from the page
            const aboutMeText = document.querySelector('#about .max-w-3xl').textContent.trim();
            const projectElements = document.querySelectorAll('.project-card');
            let projectsText = '';
            projectElements.forEach(card => {
                const title = card.querySelector('h3').textContent;
                const description = card.querySelector('p').textContent;
                const technologies = Array.from(card.querySelectorAll('.flex-wrap span')).map(span => span.textContent).join(', ');
                projectsText += `Project: ${title}. Description: ${description}. Technologies: ${technologies}.\n`;
            });

            const fullContext = `About Elio Pikuli: ${aboutMeText}\n\nProjects:\n${projectsText}`;

            // 2. Construct the prompt
            const systemPrompt = "You are a helpful assistant for a software engineer's portfolio website. Your task is to act as a career expert and summarize the engineer's profile for a busy technical recruiter.";
            const userQuery = `Based on the following information about Elio Pikuli, please provide a concise summary of his key strengths and experience in three professional bullet points. Highlight his diverse skillset across web development, machine learning, and security. Keep the tone professional and impactful. Format the output as HTML bullet points (using <ul> and <li> tags). \n\n---INFO---\n${fullContext}`;
            
            // 3. Call the Gemini API
            try {
                const generatedSummary = await callGeminiAPI(systemPrompt, userQuery);
                summaryText.innerHTML = generatedSummary;
            } catch (error) {
                console.error("Gemini API call failed:", error);
                summaryText.innerHTML = "<p>Sorry, the AI summary could not be generated at this time. Please try again later.</p>";
            } finally {
                // Hide loading spinner and show text
                loadingSpinner.classList.add('hidden');
                summaryText.classList.remove('hidden');
            }
        });
        
        function hideModal() {
            modalContainer.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                 aiModal.classList.add('hidden');
            }, 300); // Match transition duration
        }

        closeModalBtn.addEventListener('click', hideModal);

        // Close modal if clicking outside the content
        aiModal.addEventListener('click', (e) => {
            if (e.target === aiModal) {
                hideModal();
            }
        });


        async function callGeminiAPI(systemPrompt, userQuery) {
            const apiKey = ""; // API key is handled by the environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };
            
            let response;
            // Exponential backoff for retries
            for (let i = 0; i < 5; i++) {
                try {
                    response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                         const result = await response.json();
                         const candidate = result.candidates?.[0];
                         if (candidate && candidate.content?.parts?.[0]?.text) {
                             return candidate.content.parts[0].text;
                         } else {
                             // If response is OK but structure is wrong, don't retry, just fail.
                             throw new Error('Invalid response structure from Gemini API');
                         }
                    } else if (response.status === 429 || response.status >= 500) {
                         // Throttling or server error, wait and retry
                         const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                         await new Promise(resolve => setTimeout(resolve, delay));
                         continue; // Go to next iteration to retry
                    } else {
                        // Other client-side error (e.g., 400 Bad Request)
                        console.error("API request failed with status:", response.status);
                        throw new Error(`API request failed with status ${response.status}`);
                    }
                } catch (error) {
                    console.error(`Attempt ${i + 1} failed. Retrying...`, error);
                    if (i === 4) { // Last retry failed
                        throw error;
                    }
                    const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }
            throw new Error('API request failed after multiple retries.');
        }

    </script>
</body>
</html>

